# Ù…Ø¹Ø±ÙÛŒ Ùˆ Ú©Ù„ÛŒØ§Øª Ù‚Ù‚Ù†ÙˆØ³ (Phoenix)

Ø¨Ù‡ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù‚Ù‚Ù†ÙˆØ³ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.
Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ Ù…ÙØ§Ù‡ÛŒÙ… Ù¾Ø§ÛŒÙ‡ØŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ùˆ Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ù‚Ù‚Ù†ÙˆØ³ Ø¢Ø´Ù†Ø§ Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ØªØ±ÛŒÙ† ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù†ÛŒØ§Ø² Ø®ÙˆØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.

## Ù‚Ù‚Ù†ÙˆØ³ Ú†ÛŒØ³ØªØŸ

Ù‚Ù‚Ù†ÙˆØ³ Ø§Ø¨Ø²Ø§Ø±ÛŒ ØªØ®ØµØµÛŒ Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± Ø²Ø¯Ù† ÙÛŒÙ„ØªØ±ÛŒÙ†Ú¯â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ùˆ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²Ø±Ø³ÛŒ Ø¹Ù…ÛŒÙ‚ Ø¨Ø³ØªÙ‡ (DPI) Ø§Ø³Øª. Ø¨Ø±Ø®Ù„Ø§Ù VPNÙ‡Ø§ÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒØŒ Ù‚Ù‚Ù†ÙˆØ³ ØªØ±Ø§ÙÛŒÚ© Ø´Ù…Ø§ Ø±Ø§ Ø¯Ø± Ø¯Ù„ Ù¾Ø±ÙˆØªÚ©Ù„ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ **HTTP/2** Ù…Ø®ÙÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

### Ú†Ø±Ø§ HTTP/2ØŸ
Ù¾Ø±ÙˆØªÚ©Ù„ HTTP/2 Ù‡Ù…Ø§Ù† Ø²Ø¨Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒÛŒ Ù…Ø«Ù„ Ú¯ÙˆÚ¯Ù„ Ùˆ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„:
1.  ØªØ±Ø§ÙÛŒÚ© Ø´Ù…Ø§ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø´Ø¨ÛŒÙ‡ ØªØ±Ø§ÙÛŒÚ© ÙˆØ¨Ú¯Ø±Ø¯ÛŒ Ø¹Ø§Ø¯ÛŒ Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯.
2.  Ø§Ø² Ù‚Ø§Ø¨Ù„ÛŒØª **Multiplexing** Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù‡Ù…Ø²Ù…Ø§Ù† Ú†Ù†Ø¯ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª (ØªÙ„Ú¯Ø±Ø§Ù…ØŒ ÛŒÙˆØªÙˆØ¨ØŒ ÙˆØ¨Ú¯Ø±Ø¯ÛŒ) Ø±ÙˆÛŒ **ÛŒÚ©** Ø§ØªØµØ§Ù„ TCP Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ Ø³Ø±Ø¹Øª Ø±Ø§ Ø¨Ù‡ Ø´Ø¯Øª Ø¨Ø§Ù„Ø§ Ù…ÛŒâ€ŒØ¨Ø±Ø¯.
3.  **Header Compression (HPACK):** Ø³Ø±Ø¨Ø§Ø± Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ÛŒ Ø±Ø§ ØªØ§ Û¹Û¹Ùª Ú©Ø§Ù‡Ø´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.
4.  **Flow Control:** ØªÙˆØ²ÛŒØ¹ Ø¹Ø§Ø¯Ù„Ø§Ù†Ù‡ Ù¾Ù‡Ù†Ø§ÛŒ Ø¨Ø§Ù†Ø¯ Ø¨ÛŒÙ† Ø§Ø³ØªØ±ÛŒÙ…â€ŒÙ‡Ø§ Ø±Ø§ Ù…Ù…Ú©Ù† Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯.

---

## Ø­Ø§Ù„Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ (Security Modes)

::: tip Ø®Ù„Ø§ØµÙ‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ØŒ Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø³Ø§Ø¯Ù‡ Ùˆ Ø¨Ø¯ÙˆÙ† Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙÙ†ÛŒ ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯. Ø§Ú¯Ø± Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ Ø¨Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ± Ù‡Ø³ØªÛŒØ¯ØŒ Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ ØµÙØ­Ù‡ **[Ù…Ø¹Ù…Ø§Ø±ÛŒ Ùˆ Ø§Ù…Ù†ÛŒØª](architecture.md)** Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.
:::

Ù‚Ù‚Ù†ÙˆØ³ Ø³Ù‡ Ø³Ø·Ø­ Ø§Ù…Ù†ÛŒØªÛŒ Ù…Ø®ØªÙ„Ù Ø±Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
**Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø§Ú©ÛŒØ¯ Ù…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø­Ø§Ù„Øª mTLS ÛŒØ§ Ø­Ø¯Ø§Ù‚Ù„ One-Way TLS Ø§Ø³Øª.**

::: info Ù†Ú©ØªÙ‡ Ù…Ù‡Ù… Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø³Ø±Ø¹Øª
Ø³Ø±Ø¹Øª Ù‡ÛŒÚ† Ú©Ø¯Ø§Ù… Ø§Ø² Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ø²ÛŒØ± Ø¨Ø§ ÛŒÚ©Ø¯ÛŒÚ¯Ø± ØªÙØ§ÙˆØªÛŒ Ù†Ø¯Ø§Ø±Ø¯. Ù‡Ø± Ø³Ù‡ Ø­Ø§Ù„Øª (Ø­ØªÛŒ mTLS Ø¨Ø§ ÙˆØ¬ÙˆØ¯ Ø§Ù…Ù†ÛŒØª Ø¨Ø³ÛŒØ§Ø± Ø¨Ø§Ù„Ø§) Ø¨Ø§ Ø­Ø¯Ø§Ú©Ø«Ø± Ú©Ø§Ø±Ø§ÛŒÛŒ Ùˆ Ø³Ø±Ø¹Øª Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ùˆ Ù‡ÛŒÚ† Ø³Ø±Ø¨Ø§Ø± Ø§Ø¶Ø§ÙÛŒ Ø§Ø­Ø³Ø§Ø³ Ù†Ø®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø±Ø¯.
:::

::: tip Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ Ø¨Ø§ CDN
ØªÙ…Ø§Ù… Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± (mTLSØŒ One-Way TLS Ùˆ Cleartext) Ù‚Ø§Ø¨Ù„ÛŒØª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù¾Ø´Øª Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ CDN (Ù…Ø§Ù†Ù†Ø¯ CloudflareØŒ Gcore Ùˆ ...) Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯.
:::

### Û±. Ø­Ø§Ù„Øª mTLS (Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø¯ÙˆØ·Ø±ÙÙ‡) - ðŸ›¡ï¸ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø´Ø¯Ù‡
*   **Ø§Ù…Ù†ÛŒØª:** Ø¨Ø³ÛŒØ§Ø± Ø¨Ø§Ù„Ø§
*   **ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
    *   Ø§Ø² Ø­Ù…Ù„Ø§Øª Ù…Ø±Ø¯ Ù…ÛŒØ§Ù†ÛŒ (MITM) Ùˆ Ø´Ù†ÙˆØ¯ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    *   ØªØ¶Ù…ÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ ØªÙ†Ù‡Ø§ Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± Ø³Ø±ÙˆØ± Ù…Ø¬Ø§Ø² ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ù…ØªØµÙ„ Ø´ÙˆÙ†Ø¯.
    *   Ø§Ø² Ø§ØªØµØ§Ù„ Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±ÛŒ Ú©Ù‡ Ø­ØªÛŒ Public Key Ø³Ø±ÙˆØ± Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯ (Ø§Ù…Ø§ Ú©Ù„ÛŒØ¯ Ø®ØµÙˆØµÛŒ Ú©Ù„Ø§ÛŒÙ†Øª Ù…Ø¬Ø§Ø² Ø±Ø§ Ù†Ø¯Ø§Ø±Ù†Ø¯) Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

### Û². Ø­Ø§Ù„Øª One-Way TLS (Ù…Ø§Ù†Ù†Ø¯ HTTPS) - ðŸ”’
*   **Ø§Ù…Ù†ÛŒØª:** Ù…ØªÙˆØ³Ø·
*   **ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
    *   Ø¹Ø¯Ù… Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹Ø±ÛŒÙ ØªÚ©â€ŒØªÚ© Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ Ø¯Ø± Ø³Ø±ÙˆØ± (Ø³Ù‡ÙˆÙ„Øª Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯ Ø¨Ø§ ØªØ¹Ø¯Ø§Ø¯ Ø²ÛŒØ§Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø±).
    *   Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø³Ø±ÙˆØ± Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø§ØªØµØ§Ù„ Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ú©Ù‡ ÙÙ‚Ø· Ø¢Ø¯Ø±Ø³ Ø³Ø±ÙˆØ± Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯ (Ø³Ø±ÙˆØ± Ø¨Ù‡ Ø§ØªØµØ§Ù„â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ù…Ø¹ØªØ¨Ø± Ù¾Ø§Ø³Ø® Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯).

### Û³. Ø­Ø§Ù„Øª Ø§Ù…Ù†â€ŒÙ†Ø¨ÙˆØ¯Ù‡ (Cleartext / h2c) - âš ï¸
*   **Ø§Ù…Ù†ÛŒØª:** Ù‡ÛŒÚ†ÛŒ
*   **ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
    *   Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø­Ø§Ù„Øª Ø§Ù…Ù†ÛŒØªÛŒ Ø¨Ù‡ Ù‡Ù…Ú¯Ø§Ù† Ø«Ø§Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ú©Ù‡ Ø¯ÛŒÙˆØ§Ù†Ù‡â€ŒØ§ÛŒ Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ù†ÛŒØ§ÛŒ ØªØ±Ø³Ù†Ø§Ú© Ù…Ø§Ù†Ù†Ø¯ Ø¬ÙˆØ¬Ù‡ Ù…Ø§Ø´ÛŒÙ†ÛŒâ€ŒÙ‡Ø§ Ø¨Ù‡ Ø¢ØºÙˆØ´ Ú¯Ø±Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ø³Ù†Ù‡ Ù…ÛŒâ€ŒØ±ÙˆÛŒØ¯.

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ

```mermaid
%%{init: {'theme': 'base', 'themeVariables': { 'fontSize': '16px', 'fontFamily': 'Vazir, Inter', 'lineColor': '#888888', 'mainBkg': 'transparent', 'clusterBkg': 'none', 'clusterBorder': '#666'}}}%%
flowchart TD
    subgraph ClientSide [Ø¨Ø®Ø´ Ú©Ù„Ø§ÛŒÙ†Øª / Ú©Ø§Ø±Ø¨Ø±]
        direction TB
        User(ðŸ‘¤ Ú©Ø§Ø±Ø¨Ø±)
        Client(ðŸš€ Ú©Ù„Ø§ÛŒÙ†Øª Ù‚Ù‚Ù†ÙˆØ³)
    end

    subgraph Cloud [Ø´Ø¨Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„]
        Internet((â˜ï¸ Ø§ÛŒÙ†ØªØ±Ù†Øª / CDN))
    end

    subgraph ServerSide [Ø¨Ø®Ø´ Ø³Ø±ÙˆØ±]
        direction TB
        Server(ðŸ”¥ Ø³Ø±ÙˆØ± Ù‚Ù‚Ù†ÙˆØ³)
        Target(ðŸŽ¯ Ù…Ù‚ØµØ¯ Ù†Ù‡Ø§ÛŒÛŒ)
    end

    %% Ù…Ø³ÛŒØ± Ø¯Ø±Ø®ÙˆØ§Ø³Øª
    User -->|Ø¯Ø±Ø®ÙˆØ§Ø³Øª SOCKS5| Client
    Client ==>|ØªÙˆÙ†Ù„ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ø´Ø¯Ù‡| Internet
    Internet ==>|HTTP/2 Push| Server
    Server -->|TCP/UDP| Target

    %% Ù…Ø³ÛŒØ± Ù¾Ø§Ø³Ø®
    Target -.->|Ø¨Ø§Ø²Ú¯Ø´Øª Ø¯Ø§Ø¯Ù‡| Server
    Server -.->|Ù¾Ø§Ø³Ø® HTTP/2| Internet
    Internet -.->|Ø¯Ø§Ø¯Ù‡ Ø±Ù…Ø²Ú¯Ø´Ø§ÛŒÛŒ Ø´Ø¯Ù‡| Client
    Client -.->|Ù¾Ø§Ø³Ø® SOCKS5| User

    %% Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØ·Ø¨ÛŒÙ‚â€ŒÙ¾Ø°ÛŒØ±
    classDef client fill:none,stroke:#03a9f4,stroke-width:2px,color:#03a9f4;
    classDef server fill:none,stroke:#ff9800,stroke-width:2px,color:#ff9800;
    classDef internet fill:none,stroke:#af52bf,stroke-width:2px,color:#af52bf;
    
    class Client,User client;
    class Server,Target server;
    class Internet internet;
```

Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ØŒ Ù†Ø­ÙˆÙ‡ **Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ** Ù‚Ø¯Ù…â€ŒØ¨Ù‡â€ŒÙ‚Ø¯Ù… Ø±Ø§ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¯ÛŒØ¯.
